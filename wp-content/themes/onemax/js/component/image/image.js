/********venobox********/
!function(a){function G(){a.ajax({url:g,cache:!1}).done(function(a){e.html('<div class="vbox-inline">'+a+"</div>"),M()}).fail(function(){e.html('<div class="vbox-inline"><p>Error retrieving contents, please retry</div>'),M()})}function H(){e.html('<iframe class="venoframe" src="'+g+'"></iframe>'),M()}function I(){var a=g.split("/"),b=a[a.length-1];e.html('<iframe class="venoframe" src="http://player.vimeo.com/video/'+b+'"></iframe>'),M()}function J(){var a=g.split("/"),b=a[a.length-1];e.html('<iframe class="venoframe" src="http://www.youtube.com/embed/'+b+'"></iframe>'),M()}function K(){e.html('<div class="vbox-inline">'+a(g).html()+"</div>"),M()}function L(){l=a(".vbox-content").find("img"),l.one("load",function(){M()}).each(function(){this.complete&&a(this).load()})}function M(){a(window).scrollTop(0),z.html(v),e.find(">:first-child").addClass("figlio"),a(".figlio").css("width",m).css("height",n).css("padding",o).css("background",p),i=e.outerHeight(),j=a(window).height(),i+80<j?(k=(j-i)/2,e.css("margin-top",k),e.css("margin-bottom",k)):(e.css("margin-top","40px"),e.css("margin-bottom","40px")),e.animate({opacity:"1"},"slow")}var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F;a.fn.extend({venobox:function(i){var j={framewidth:"",frameheight:"",border:"0",bgcolor:"#fff",numeratio:!1},i=a.extend(j,i);return this.each(function(){var j=a(this);j.addClass("vbox-item"),j.data("framewidth",i.framewidth),j.data("frameheight",i.frameheight),j.data("border",i.border),j.data("bgcolor",i.bgcolor),j.data("numeratio",i.numeratio),j.click(function(i){function k(){r=j.data("gall"),B=j.data("numeratio"),s=a('.vbox-item[data-gall="'+r+'"]'),s.length>0&&B===!0?(A.html(s.index(j)+1+" / "+s.length),A.fadeIn()):A.fadeOut(),t=s.eq(s.index(j)+1),u=s.eq(s.index(j)-1),j.attr("title")?(v=j.attr("title"),z.fadeIn()):(v="",z.fadeOut()),t.length>0?(a(".vbox-next").css("display","block"),w=!0):(a(".vbox-next").css("display","none"),w=!1),s.index(j)>0?(a(".vbox-prev").css("display","block"),x=!0):(a(".vbox-prev").css("display","none"),x=!1)}return i.stopPropagation(),i.preventDefault(),j=a(this),m=j.data("framewidth"),n=j.data("frameheight"),o=j.data("border"),p=j.data("bgcolor"),w=!1,x=!1,y=!1,g=j.attr("href"),h=a(window).scrollTop(),h=-h,a("body").wrapInner('<div class="vwrap"></div>'),c=a(".vwrap"),f='<div class="vbox-overlay"><div class="vbox-preloader">Loading...</div><div class="vbox-container"><div class="vbox-content"></div></div><div class="vbox-title"></div><!--<div class="vbox-num">0/0</div>--><div class="vbox-close">X</div><div class="vbox-next">next</div><div class="vbox-prev">prev</div></div>',a("body").append(f),b=a(".vbox-overlay"),d=a(".vbox-container"),e=a(".vbox-content"),A=a(".vbox-num"),z=a(".vbox-title"),e.html(""),e.css("opacity","0"),k(),b.css({opacity:"1","min-height":a(window).outerHeight()+130}),navigator.userAgent.match(/(iPod|iPhone|iPad|Android)/)?c.css({position:"fixed",top:h,opacity:"0"}).data("top",h):(c.css({position:"fixed",top:h}).data("top",h),a(window).scrollTop(0)),b.bind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(){b.css({"min-height":a(window).outerHeight(),height:"auto"}),"iframe"==j.data("type")?H():"inline"==j.data("type")?K():"ajax"==j.data("type")?G():"vimeo"==j.data("type")?I():"youtube"==j.data("type")?J():(e.html('<img src="'+g+'">'),L())}),a("body").keydown(function(c){y||(37==c.keyCode&&1==x&&(y=!0,m=u.data("framewidth"),n=u.data("frameheight"),o=u.data("border"),p=u.data("bgcolor"),g=u.attr("href"),v=u.attr("title")?u.attr("title"):"",b.css("min-height",a(window).outerHeight()+130),e.animate({opacity:0},500,function(){b.css("min-height",a(window).outerHeight()),"iframe"==u.data("type")?H():"inline"==u.data("type")?K():"ajax"==u.data("type")?G():"youtube"==u.data("type")?J():"vimeo"==u.data("type")?I():(e.html('<img src="'+g+'">'),L()),j=u,k(),y=!1})),39==c.keyCode&&1==w&&(y=!0,m=t.data("framewidth"),n=t.data("frameheight"),o=t.data("border"),p=t.data("bgcolor"),g=t.attr("href"),v=t.attr("title")?t.attr("title"):"",b.css("min-height",a(window).outerHeight()+130),e.animate({opacity:0},500,function(){b.css("min-height",a(window).outerHeight()),"iframe"==t.data("type")?H():"inline"==t.data("type")?K():"ajax"==t.data("type")?G():"youtube"==t.data("type")?J():"vimeo"==t.data("type")?I():(e.html('<img src="'+g+'">'),L()),j=t,k(),y=!1})))}),a(".vbox-next").click(function(){m=t.data("framewidth"),n=t.data("frameheight"),o=t.data("border"),p=t.data("bgcolor"),g=t.attr("href"),v=t.attr("title")?t.attr("title"):"",b.css("min-height",a(window).outerHeight()+130),e.animate({opacity:0},500,function(){b.css("min-height",a(window).outerHeight()),"iframe"==t.data("type")?H():"inline"==t.data("type")?K():"ajax"==t.data("type")?G():"youtube"==t.data("type")?J():"vimeo"==t.data("type")?I():(e.html('<img src="'+g+'">'),L()),j=t,k()})}),a(".vbox-prev").click(function(){m=u.data("framewidth"),n=u.data("frameheight"),o=u.data("border"),p=u.data("bgcolor"),g=u.attr("href"),v=u.attr("title")?u.attr("title"):"",b.css("min-height",a(window).outerHeight()+130),e.animate({opacity:0},500,function(){b.css("min-height",a(window).outerHeight()),"iframe"==u.data("type")?H():"inline"==u.data("type")?K():"ajax"==u.data("type")?G():"youtube"==u.data("type")?J():"vimeo"==u.data("type")?I():(e.html('<img src="'+g+'">'),L()),j=u,k()})}),a(".vbox-close, .vbox-overlay").click(function(c){E=".figlio",D=".vbox-prev",C=".vbox-next",F=".figlio *",a(c.target).is(E)||a(c.target).is(C)||a(c.target).is(D)||a(c.target).is(F)||(b.css("opacity","0"),b.bind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(){b.remove(),navigator.userAgent.match(/(iPod|iPhone|iPad|Android)/)?(a(".vwrap").css("opacity","1"),a(".vwrap").bind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(){a(".vwrap").children().unwrap(),a(window).scrollTop(-h)})):(a(".vwrap").children().unwrap(),a(window).scrollTop(-h)),y=!1}))}),!1})})}})}(jQuery);

/********jquery.hover3d********/
!function(a){a.fn.hover3d=function(b){var c=a.extend({selector:null,perspective:1e3,sensitivity:20,invert:!1,shine:!1,hoverInClass:"hover-in",hoverOutClass:"hover-out",hoverClass:"hover-3d"},b);return this.each(function(){function f(){d.addClass(c.hoverInClass+" "+c.hoverClass),setTimeout(function(){d.removeClass(c.hoverInClass)},1e3)}function g(a){var f=b.innerWidth(),g=b.innerHeight(),h=c.invert?(f/2-a.offsetX)/c.sensitivity:-(f/2-a.offsetX)/c.sensitivity,i=c.invert?-(g/2-a.offsetY)/c.sensitivity:(g/2-a.offsetY)/c.sensitivity;dy=a.offsetY-g/2,dx=a.offsetX-f/2,theta=Math.atan2(dy,dx),angle=180*theta/Math.PI-90,angle<0&&(angle+=360),d.css({perspective:c.perspective+"px",transformStyle:"preserve-3d",transform:"rotateY("+h+"deg) rotateX("+i+"deg)"}),e.css("background","linear-gradient("+angle+"deg, rgba(255,255,255,"+a.offsetY/g*.5+") 0%,rgba(255,255,255,0) 80%)")}function h(){d.addClass(c.hoverOutClass+" "+c.hoverClass),d.css({perspective:c.perspective+"px",transformStyle:"preserve-3d",transform:"rotateX(0) rotateY(0)"}),setTimeout(function(){d.removeClass(c.hoverOutClass+" "+c.hoverClass)},1e3)}var b=a(this),d=b.find(c.selector);c.shine&&d.append('<div class="shine"></div>');var e=a(this).find(".shine");b.css({perspective:c.perspective+"px",transformStyle:"preserve-3d"}),d.css({perspective:c.perspective+"px",transformStyle:"preserve-3d"}),e.css({position:"absolute",top:0,left:0,bottom:0,right:0,"z-index":9}),b.on("mouseenter",function(){return f()}),b.on("mousemove",function(a){return g(a)}),b.on("mouseleave",function(){return h()})})}}(jQuery);

/********minigrid********/
!function(a){function b(a,b,c,d,e){var f=Array.prototype.forEach,g=document.querySelector(a),h=document.querySelectorAll(b);c=c||6,g.style.width="";var i=g.getBoundingClientRect().width,j=h[0].getBoundingClientRect().width+c,k=Math.max(Math.floor((i-c)/j),1),l=0;i=j*k+c+"px",g.style.width=i;for(var m=[],n=[],o=0;o<k;o++)n.push(o*j+c),m.push(c);f.call(h,function(a){var b=m.slice(0).sort(function(a,b){return a-b}).shift();b=m.indexOf(b);var e=n[b],g=m[b],h=["webkitTransform","MozTransform","msTransform","OTransform","transform"];if(d||f.call(h,function(b){a.style[b]="translate("+e+"px,"+g+"px)"}),m[b]+=a.getBoundingClientRect().height+c,l+=1,d)return d(a,e,g,l)});var p=m.slice(0).sort(function(a,b){return a-b}).pop();g.style.height=p+"px","function"==typeof e&&e()}"function"==typeof define&&define.amd?define(function(){return b}):"undefined"!=typeof module&&module.exports?module.exports=b:a.minigrid=b}(this);
